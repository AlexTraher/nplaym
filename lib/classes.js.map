{"version":3,"sources":["../src/classes.js"],"names":[],"mappings":"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","file":"classes.js","sourcesContent":["import { HEIGHT, WIDTH, LEFTWALL, RIGHTWALL, MIDWIDTH, MIDHEIGHT, FPS, FRAMERATE, DIFFICULTY, STARTTIME, PLAYERLINE } from './constants.js';\nimport util from './util.js';\nimport { gameState } from './game.js';\n\nfunction Monster (text) {\n  this.s = text;\n  this.dangerZone = [];\n\n  this.getPlacement = () => {\n    let randomStart = ~~(Math.random() * (WIDTH - RIGHTWALL - LEFTWALL));\n    randomStart = Math.min(randomStart, WIDTH - this.s.length);\n    randomStart = Math.max(randomStart, 0);\n    return randomStart;\n  }\n\n  this.createDangerZone = function () {\n    for (var i = this.left; i < this.left + this.s.length; i++) {\n      this.dangerZone.push(i);\n    }\n  }\n\n  Object.assign(this, {\n    type: 'mob',\n    up: 0,\n    left: this.getPlacement(),\n    colour: 'red',\n    dead: false,\n    colourIndex: 0\n  });\n\n  this.createDangerZone();\n  this.tick = () => {\n    this.up = this.up + 1;\n    if (this.dead) {\n      this.turnToDebris();\n    }\n    if (this.up > HEIGHT) {\n      this.remove();\n    } \n  }\n  this.turnToDebris = () => {\n    let str = '';\n    for (var i = 0; i < this.s.length; i++) {\n      const debrisChoices = ';,.`\\'\"'.split('');\n      str += util.getRandom(debrisChoices);\n    }\n    this.s = str;\n    const colourChoices = ['yellow', 'grey', 'black'];\n    if (this.colour !== 'black') {\n      this.colour = colourChoices[this.colourIndex];\n      this.colourIndex++;\n    } else {\n      this.remove();\n    }\n  }\n  this.remove = () => {\n    gameState.splice(gameState.indexOf(this), 1);\n  }\n}\n\nfunction Bullet (xCoord) {\n  this.type = 'bullet';\n  this.left = xCoord;\n  this.s = '|';\n  this.colour = 'magenta';\n  this.up = PLAYERLINE - 1;\n  this.speed = 2;\n  this.tick = () => {\n    this.up = this.up - 1;\n    if (this.dead) {\n      this.remove();\n    }\n  }\n  this.dead = false;\n  this.remove = () => {\n    gameState.splice(gameState.indexOf(this), 1);\n  }\n}\n\nexport { Monster, Bullet };"]}